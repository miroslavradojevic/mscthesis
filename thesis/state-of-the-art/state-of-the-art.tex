\chapter{State of the art (or the Literature Review...?)} \label{chap:state-of-the-art}
%%% TO BE ADDED
%%%%Mention the PhD thesis \cite{ribas10}.
%%%%
%%%%Localization exploring map or scan matching techniques was presented in \cite{Cox91} and \cite{Lu97}. 
%%%%
%%%%Approach that uses geometrical landmarks in Kalman filters is explained in \cite{Leonard91}. These led to SLAM.
%%%%
%%%%One work from HW is \cite{Ruiz01}.


This chapter gives an overview of the methods and existing algorithms for underwater vehicle localization. Localization is influenced with the development and performance sensor devices. Sensors can be regarded as the tool for managing the localization. Faster they are, more accurate they are, localization has more chances to be better. Oceanographic community typically uses three different strategies to handle the navigation underwater \cite{whitcomb99}. Of course, they can be combined together, depending on purpose: (1) transponder networks on the seafloor (long baseline), (2) sip - underwater vehicle communication (short baseline), and (3) sensors mounted on the underwater vehicle that measure range and inertial motion. Each of the strategies is different in terms of accuracy, costr and complexity \cite{eustice05}. Chapter \S~\ref{chap:sensors} gives more insight into performance and cathegorization of each sensor device used for underwater vehicle navigation. Following paragraphs are revising the documented ways to process such sensor information in order to be able to estimate the position in the environment. We could describe localization as absolute or relative, depending on which reference system we use when obtaining measurements. Absolute localization takes environment as reference system while relative consider the vehicle itself to be the reference. 

Underwater navigation is using several instrumentation methods to carry out the robot localization in the sea \cite{whitcomb99}. These include transponder networks placed on the bottom of the sea, tracking systems between the ship and the underwater vehicle, and sensoring devices that measure range and dynamics mounted on the vehicle itself. Each of the methods has advantages and disadvantages. Transponder network gives accurate position information, however using it means installing and calibrating additional equipment \cite{eustice05}. 

In existing survey on underwater vehicle navigation, Kingsey et al. \cite{kinsey06} already give a summary presenting some methods used. As introduced in \cite{kinsey06}, current vehicle position is named navigation state - a vector where the vehicle is and how it is oriented in space. Localization simply means finding a way to estimate navigation state vector. Naturally, sensors provide the data for the estimation.

The most simple approach would be dead reckoning - to take the raw sensor measurements and use them directly or within a simple mathematical model that describes the vehicle dynamics. However, many techniques presented in literature utilize sensor data as supplementary information with the information from the kinematic model. Rough classification of the localization methods would categorize them on stochastic state estimators (Section ~\ref{sec:stochastic-methods}), simultaneous localization and mapping approach (SLAM, Section ~\ref{sec:terrain-aided} and localization based on deterministic observers \cite{kinsey06}. On top of already mentioned methods, some other strategies such as cooperation for navigation are explored \cite{bahr08} in order to overcome the shortcomings of conventional navigation approach. 

\section{Stochastic state estimators} \label{sec:stochastic-methods}
The name of such methods suggests that states are treated as ultimately having feature of randomness built-in - means being or having a random variable. That does not seem as a wrong conclusion after recognizing that state of a system, is seldom known precisely. It is the essential nature of the process or the instrument used for measuring or the estimation algorithm itself that fails at submitting utterly accurate data all the time. We could say that many phenomena are random till certain extent. Statistically speaking, estimation is a rule used to calculate an estimate of a variable of interest using the observed data. As it is the case with random variables, we can say that certain state has an expected value, and that such ``randomness'' can be expressed with the distribution formula, resulting in values such as mean and standard deviation that fully describe the distribution in concrete case of gaussian, for instance. This approach has been appied often in underwater navigation. Most notable stachastic state estimator is Kalman filter. Kalman filter is an unbiased, optimal estimator that in majority of the localization examples utilizes the kinematic model for making a prediction and, in genral, describes how the system states change. Kalman filter and the EKF treat random variable as it has gaussian distribution which introduces some special features. Chapter \S~ref{chap:kalman} focuses more on Kalman filtering. In case of an underwater vehicle localization is accomplished using unbiased estimation such as Extended Kalman Filter (EKF) and number of works report on usage of different variations of Kalman filters for state estimation. Following paragraphs make an overview of various stochastic estimator usage with the objective of determining (estimating) values that represent system state - location of the robot in the environment. 

Some available works have already delt with the issue of managing localization using Kalman filtering. Master thesis of Negneborn \cite{negenborn03} gives a useful overview of the theoretical knowledge and surveys the utilization of Kalman filtering for localizing underwater vehicles. 

\subsection{Linear stochastic state estimators}

Blain et al. \cite{blain03} study the application of Kalman filter in navigation of an underwater vehicle used for water dam inspection focusing on merging position and velocity information. This algorithm uses acoustic positioning sensor together with the integration the measured DVL sensor velocities \cite{blain03} to estimate the position. Several issues are delt with in their work. 

Kalman filter output could be corrupted in situations when observations (sensor measurements) are subject to interruption or periodic stopping. Due to the fact that not all the sensors can be always available, it is usually necessary to be capable of adding or removing sensor observations from the system without changing the navigation algorithm. 

Asynchronous data delivery in this particular case means that the DVL sensor provides data with higher rate \cite{blain03}. Such obstacle was solved by switching to estimation procedure suitable for that particular sensor measurement scenario. This simply means that if the acoustic sensor and DVL sensor provide new measurement, Kalman filtering is used to carry out the fusion. Otherwise, pure DVL velocity measurement is just integarated to update the position, as dynamic model would suggest. 

Delays in measurements are evident in case of acoustic measurements where the time of the measurement (timestamp) is current measurement time minus the time it took for the acoustic signal to arrive. To overcome this, position estimate between two acoustic measurements is memorized. Position is meanwhile updated by integrating the DVL data. The procedure consists of two stages: at first, we make a new position estimate obtaine by integrating veolcities from the new position estimate to the actual time - correction of the position estimate. 

Drolet et al. \cite{drolet00} introduce a flexible localization strategy based on sensor fusion and usage of several Kalman filters arranged together in a bank. Each filter is reduced to express simple cinematic equation and processes one state - works in one dimension. Idea is to integrate together sensor measurements that arrive at different time moments from different sensors. Method takes asynchronous information from sensors, manages a filter switching process so that the most recent data is used to update those filters that can be updated with such measurement \cite{drolet00}. Such sensor fusion strategy is adaptable in terms of number of sensors so that the best is taken out from the available input data, more robust to data loss. Moreover, asynchronous inputs are allowed. 

Di Massa et al. report usage of Kalman filter framework for slightly different concept of navigation that takes surrounding terrain as reference for esitmating the position of the sonar (``terrain-relative navigation''), \cite{diMassa97}. In their work, sonar image is matched to the map using mean absolute difference (MAD) as the matching criterion. Matching map location is considered as measurement of vehicle position \cite{diMassa97}. Several matchings are selected and weighted depending on how much they relate to the terrain images. Weights correspond to uncertainties in estimation theory. Quality of similarity is used to weight each measurement. Solution consists of having resulting best estimate of location \cite{diMassa97}. Information from selected matches is combined to make the best estimate. The role of Kalman filter framework is to carry out the estimation. Each of the chosen mathes is considered as one measurement together with its weight as uncertainty. The filtered state is the position of the image within the map. 

Gade and Jalving introduce aided post processing navigation system deployed on a commercial underwater vehicle \cite{gade99}. Idea is that vehicle records sensor data while accomplishing mission under the sea surface. At the same time, a vessel is positioned on the surface recieving information of its position through the reliable Differential Global Positioning System (DGPS). After the mission is over, data are combined together with position data that was simultaneously recorded on the survey vessel located on the surface. Kalman filtering is used when merging the data. \textit{Error-state} Kalman filter is used to combine sensor measurements and their error models. Observations in case of such filter is the difference between measured and computed values. Instead of working directly with states, presented algorithm filters the errors, so that the ultimate position and heading estimate can be derived by subtracting the estimated erros from, as authors suggest, corresponding calculated state elements. This way, final aim of obtaining vehicle position and heading together with the accuracy of such estimate \cite{gade99}. 

Dissertation \cite{roman05} gives the suggestion how to improve the vehicle position estimation when reconstructing maps of the sea floor. Visual information of the terrain is used as the feedback that makes terrain mapping data and the vehicle navigation data more consistent. Inspiration for investigating lies in fact that map-making depends on localization quality. Navigation errors are potentially large scale particularly seriously affecting the results when mapping is vehicle-based \cite{roman05}. Existing local navigation is used together with terain-relative measurements. Namely, terrain sub-maps are created over short periods while the vehicle works out the innacurate localization using dead reckoning. Sub-maps are registered resulting in position measurements between two vehicle states, placing an additional constraint on the vehicle positon estimates. Delayed EKF is used to merge together the measurements (``sub-map'' registrations and previously reached vehicle locations) into the navigation framework. Delayed state version of the recursive EKF enables retaining knowledge of prior platform positions.  

%Author reminds that the vehicle position estimate can exceed the errors related to the acoustic range sensor \cite{roman05}. Such difference can cause errors or inconsistencies . Solution for this problem, as reported in \cite{roman05} means regisration of the ``sub-maps''.

Yun et al. introduce and present simulation and testing results of the navigation system that combines the usage of inertial measurement unit together with GPS fixes that occur less frequent and asynchronously \cite{yun00}. Asynchronous Kalman filter with six states for orientation and eight states for position estimation is implemented \cite{yun00}. Process model takes the velocities and GPS bias, models them as white noises passed through the first order systems with the time constant. Measurement consists of synchronous velocity measurements and asynchronous DGPS information. The design of the filter for the position estimation algorithm conforms to the standard routine, with the difference that the measurement vector has different length depending on the number of available valid sensor inputs, hence it has a flexible size, but each observation updates the state vector of the fixed size \cite{yun00}. The idea of the asynchronism is that DGPS signals are used, if available and as soon as they are available, together with the speed measurements. This way, the localization algorithm uses the most of the data that are currently available.  

The usage of the stochastic estimators implies having a known model that describes system state transiton from one moment to another (plant model) and model that desribes transiton from state to the measurement (observation model). Such model does not have to be the same each time. Jakuba and Yoerger \cite{jakuba03} study the way to optimize navigation by estimating the vehicle model parameters, for instance various dynamics or buoyancy coefficients that normally influence the model, but are treated as constant. Their study involves postprocessing of the navigation data and heuristic estimate of these coefficients' optimal value. Real missions that applied the technique resulted in reduced noise in localization data, therefore giving clearer tracking. 

\subsection{Nonlinear stochastic state estimators}

The issue of linearizing or nonlinearizing of the plant and observation models within filters was introduced in chapter on filtering, \S~ref{chap:kalman}. Various works report the usage of nonlinear estimators such as Unscented Kalman Filters (UKF). Methods that are based on random sampling (``Monte Carlo methods''), for instance Particle Filters (PF), are also used for localization, which brings us back to the concept of stochasic value, but from different perspective this time.

Julier and Uhlmann introduce the method that carries out nonlinear filtering \cite{julier96}. It is an alternative generalization of the KF that changes the approach of representing mean and variance of the random variable. Their research is a quite useful and comprehensive theoretical overview of filtering in general and the role of Extended Kalman Filter (EKF) in switching to nonlinearity world. Introduced filter, later known as Unscented Kalman Filter (UKF) is regarded as more precise alternative to EKF that is, in addition, easy for implementation. More theoretical details about UKF are given in chapter \S~\ref{chap:kalman}.    Julier and Uhlmann point out the failigs of the EKF. In search of general method that would overcome the problem, instead of using proposed equations for projecting mean and covariance, a discrete set of points is chosen and projected using a chosen non-linear transformation. Idea is to use the parameters to approximate the Gaussian distribution instead of approximating the nonlinear transformation. This way, propagation of the information is accomplished directly, and the aim is to find a way to parametrise the information about the mean and covariance of the distribution. Advantages of the filtering algorithm are in terms of precision and simplicity (no need for Jacobian derivation) with empirical results for highly nonlinear problems including vehicle control indicating as good as or better performance than EKF and higher robustness.
  
Wan and van der Merwe \cite{} go further in exploring the concept of UKF introduced by \cite{julier96}. Their research birefly reminds of disadvantages manifested in EKF and improvents gained with the usage of UKF. Usage of UKF was reported in different nonlinear estimation problems such as nonlinear system identification, training of neural networks, and dual es- 
timation problems 
. 


 
??The innacuracies of the EKF estimates are caused by truncating errors in Taylor series when diong an approximation.??

\section{Terrain-aided navigation} \label{sec:terrain-aided}

Eustice et al. address the problem of precise localization as a prerequisite for high resolution underwater imaging of large objects placed on the sea-bed \cite{eustice05}. Precise navigation would enable decent coverage of the spatious site of interest which is mission task. Proposed solution uses a vision-based SLAM approach together with vehicle's inertial measurements. !! This paper is not entirely clear !!

\section{Deterministic state estimators}
 
\section{Cooperation for navigation}
The dissertation of A. Bahr (\cite{bahr08}) proposes an algorithm particularly suited to the underwater environment. Cooperation in navigation is already available in air or the surface of the Earth. The work focuses on cooperative localization where group of vehicles communicate between each other to accomplish cooperative localization. Stated advantages of such approach is that, apart from having more than one vehicle, no additional infrastructure is necessary \cite{bahr08}. Everything comes down to the usual sensor and communication package already available on vehicles\cite{bahr08}. 

  